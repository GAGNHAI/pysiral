# This is the output definition for ESA CCI on sea ice phase 2 (SICCI-2) product files

# Metadata
metadata: 
  output_id: l3c_sicci2
  data_level: 3
  data_level_description: Level-3 super-colocated (gridded geophysical parameters)

grid_options: 
  flip_yc: True

# Output Definition
filenaming: 
  monthly: "ESACCI-SEAICE-L3C-SIT-{source_mission_sensor:uppercase}-{source_mission_id:uppercase}-{grid_id:uppercase}-{time_coverage_start:%Y%m}-fv1.0.nc"
  custom: "ESACCI-SEAICE-L3C-SIT-{source_mission_sensor:uppercase}-{source_mission_id:uppercase}-{grid_id:uppercase}-{time_coverage_start:%Y%m%d}-{time_coverage_end:%Y%m%d}-fv1.0.nc"
  default: "ESACCI-SEAICE-L3C-SIT-{source_mission_sensor:uppercase}-{source_mission_id:uppercase}-{grid_id:uppercase}-{time_coverage_start:%Y%m%d}-{time_coverage_end:%Y%m%d}-fv1.0.nc"
product_level_subfolder: l3c

# A list of global attributes 
# (see: https://www.unidata.ucar.edu/software/thredds/current/netcdf-java/metadata/DataDiscoveryAttConvention.html)
global_attributes:
  title: "Monthly gridded sea thickness climate data record from {source_mission_name} radar altimeter data ({time_coverage_start:%Y-%m})"
  institution: "Alfred Wegener Institute, Helmholtz Centre for Polar and Marine Research (AWI)"
  source: "Satellite radar altimetry"
  history: "{utc_now} (created)"
  references: "Algorithm Theoretical Baseline Document, Sea Ice Climate Change Initiative: Phase 2 (version 2.2)"
  tracking_id: "None"
  conventions: "CF-1.6"
  product_version: "1.0"
  summary: "{source_hemisphere:select;Northern Hemisphere Sea Ice Thickness Climate Data Record from Envisat and CryoSat-2 satellite radar altimetry for the period October 2002 - March 2017;Southern Hemisphere Sea Ice Thickness Climate Data Record from Envisat and CryoSat-2 satellite radar altimetry for the period October 2002 - March 2017}"
  keywords: "Sea ice thickness, Arctic Ocean (Antarctic Ocean), radar altimetry"
  id: "N/A"
  cdm_data_type: "Grid"
  comment: ""
  date_created: "{utc_now}"
  date_issued: ""
  date_modified: ""
  creator_name: "Stefan Hendricks, Stephan Paul (Alfred Wegener Institute Helmholtz Centre for Polar and Marine Research, Bremerhaven, Germany); Eero Rine (Finnish Meteorological Institute, Helsinke, Finland)"
  creator_url: "http://www.awi.de"
  creator_email: "stefan.hendricks@awi.de, stephan.paul@awi.de, eero.rinne@fmi.fi"
  project: "ESA Sea Ice CCI"
  geospatial_lat_min: "{geospatial_lat_min}"
  geospatial_lat_max: "{geospatial_lat_max}"
  geospatial_lon_min: "{geospatial_lon_min}"
  geospatial_lon_max: "{geospatial_lon_max}"
  time_coverage_start: "{time_coverage_start}"
  time_coverage_end: "{time_coverage_end}"
  time_coverage_duration: "{time_coverage_duration}"
  geospatial_bounds_crs: "EPSG:6931"  
  license: "Creative Commons Attribution 4.0 International (CC BY 4.0)"
  source_mission_name: "{source_mission_name}"
  source_mission_id: "{source_mission_id}"
  source_mission_sensor: "{source_mission_sensor}"
  source_timeliness: "{source_timeliness}"
  source_hemisphere: "{source_hemisphere}"
  source_auxdata_snow: "{source_auxdata_snow}"
  source_auxdata_sic: "{source_auxdata_sic}"
  source_auxdata_sitype: "{source_auxdata_sitype}"  

# A list of variables and their attributes
# The variable subtag must match the name of the level-3 parameter
variables:

  lon:
    var_source_name: longitude
    long_name: longitude of grid cell center
    standard_name: longitude
    units: degrees_east

  lat:
    var_source_name: latitude
    long_name: latitude of grid cell center
    standard_name: latitude
    units: degrees_north

  radar_freeboard:
    long_name: "elevation of retracked point above instantaneous sea surface height (no snow range corrections)"
    units: m
    coordinates: "time lon lat"

  radar_freeboard_uncertainty:
    long_name: "uncertainty of radar freeboard"
    units: m
    coordinates: "time lon lat"

  freeboard:
    long_name: "elevation of retracked point above instantaneous sea surface height (with snow range corrections)"
    standard_name: sea_ice_freeboard
    units: m
    coordinates: "time lon lat"

  freeboard_uncertainty:
    long_name: "freeboard uncertainty"
    standard_name: sea_ice_freeboard standard_error
    units: m
    coordinates: "time lon lat"

  sea_ice_thickness:
    long_name: "thickness of the sea ice layer"
    standard_name: sea_ice_thickness
    units: m
    ancillary_variables: "sea_ice_thickness_uncertainty status_flag"
    coordinates: "time lon lat"

  sea_ice_thickness_uncertainty:
    long_name: "uncertainty of the sea ice layer thickness"
    standard_name: sea_ice_thickness_uncertainty
    units: m
    coordinates: "time lon lat"

  status_flag:
    long_name: status flag for the sea ice thickness retrieval
    standard_name: "sea_ice_thickness status_flag"
    unit: 1
    valid_min: 0
    valid_max: 101
    flag_meaning: "0: nominal; 1: retrieval unsuccessful; 2: no input data; 100: land, lake or land ice; 101: latitude above orbit inclination;"
    coordinates: "time lat lon"
    comment: "Describes the status of the sea-ice thickness retrieval"