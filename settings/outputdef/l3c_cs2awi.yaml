# This is the output definition for ESA CCI on sea ice phase 2 (SICCI-2) product files

# Metadata
metadata: 
  output_id: l3c_cs2awi
  data_level: 3
  data_level_description: Level-3 super-colocated (gridded geophysical parameters)

# Output Definition
filenaming: "l3c-awi-seaice-{source_mission_id}-{grid_id}-{time_coverage_start:%Y%m}-fv2.0.nc"
product_level_subfolder: l3c_grid

grid_options: 
  flip_yc: True

# A list of global attributes 
# (see: https://www.unidata.ucar.edu/software/thredds/current/netcdf-java/metadata/DataDiscoveryAttConvention.html)
global_attributes:
  title: "Monthly gridded sea-ice thickness and auxiliary parameters from satellite radar altimeter data"
  institution: "Alfred Wegener Institute Helmholtz Centre for Polar and Marine Research (AWI), Bremerhaven, Germany"
  project: "AWI Sea Ice Radar Altimetry"  
  comment: ""
  source: "Satellite radar altimetry"
  history: "{utc_now} (created)"
  references: "TBD"
  tracking_id: "None"
  conventions: "CF-1.6"
  product_version: "cs2awi 2.0"  
  summary: ""
  keywords: "Sea ice thickness, Arctic Ocean (Antarctic Ocean), radar altimetry"
  id: ""
  naming: ""
  keywords_vocabulary: ""
  standard_name_vocabulary: ""  
  license: "Creative Commons Attribution 4.0 International (CC BY 4.0)"
  date_created: "{utc_now}"
  date_issued: ""
  date_modified: ""
  creator_name: "Alfred Wegener Institute Helmholtz Centre for Polar and Marine Research"
  creator_url: "http://www.awi.de"
  creator_email: "stefan.hendricks@awi.de, robert.ricker@awi.de, stephan.paul@awi.de"
  publisher_name: "meereisportal.de"
  publisher_url: "http://www.meereisportal.de/"
  publisher_email: "info@meereisportal.de"  
  geospatial_lat_min: "{geospatial_lat_min}"
  geospatial_lat_max: 90.0
  geospatial_lon_min: -180.0
  geospatial_lon_max: 180.0
  geospatial_vertical_min: 0.0
  geospatial_vertical_max: 0.0
  cdm_data_type: "Grid"  
  spatial_resolution: "25.0 km grid spacing"
  geospatial_bounds_crs: "EPSG:6931"
  time_coverage_start: "{time_coverage_start}"
  time_coverage_end: "{time_coverage_end}"
  time_coverage_duration: "{time_coverage_duration}"
  source_mission_name: "{source_mission_name}"
  source_mission_id: "{source_mission_id}"
  source_mission_sensor: "{source_mission_sensor}"
  source_hemisphere: "{source_hemisphere}"
  source_auxdata_snow: "{source_auxdata_snow}"
  source_auxdata_sic: "{source_auxdata_sic}"
  source_auxdata_sitype: "{source_auxdata_sitype}"  

# A list of variables and their attributes
# The variable subtag must match the name of the level-3 parameter
variables:

  lon:
    var_source_name: longitude
    long_name: longitude coordinate
    standard_name: longitude
    units: degrees_east
    
  lat:
    var_source_name: latitude
    long_name: latitude coordinate
    standard_name: latitude
    units: degrees_north

  sea_ice_thickness:
    long_name: thickness of the sea ice layer
    standard_name: sea_ice_thickness
    units: m
    coordinates: "time lat lon"
    grid_mapping: "Lambert_Azimuthal_Grid"
    ancillary_variables: "uncertainty status_flag quality_indicator_flag"
    comment: "this field is the primary sea ice thickness estimate for this climate data record"

  uncertainty:
    var_source_name: sea_ice_thickness_uncertainty
    long_name: algorithm uncertainty (error propagation) of the sea ice thickness retrieval
    units: m
    grid_mapping: "Lambert_Azimuthal_Grid"
    coordinates: "time lat lon"

  quality_flag:
    long_name: quality indicator flag for the sea ice thickness retrieval
    standard_name: "sea_ice_thickness status_flag"
    valid_min: 0
    valid_max: 3
    flag_meaning: "(flag 0): no thickness data, (flag 1): nominal retrieval quality, no biases expected (flag 2): intermediate retrieval quality, bias likely (flag 3): low retrieval quality, bias expected"
    grid_mapping: "Lambert_Azimuthal_Grid"
    coordinates: "time lat lon"

  status_flag:
    long_name: status flag for the sea ice thickness retrieval
    valid_min: 0
    valid_max: 5
    flag_meaning: "(flag 0): no input data (flag 1): outside sea ice concentration mask (flag 2): latitude above orbit inclination (flag 3): land, lake or land ice (flag 4): sea ice thickness retrieval failed (flag 5): sea ice thickness retrieval successful"
    standard_name: "sea_ice_thickness status_flag"
    grid_mapping: "Lambert_Azimuthal_Grid"
    coordinates: "time lat lon"